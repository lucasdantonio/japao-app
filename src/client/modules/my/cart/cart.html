<template>
    <div class="slds-grid slds-wrap">

        <div class="slds-col slds-size_12-of-12">
            <article class="slds-card red">
                <div class="slds-card__body slds-card__body_inner red">
                    
                    <span class="c-header  slds-align_absolute-center">
                        Carrinho
                    </span>
    
                </div>
            </article>
        </div>

        <template if:true={fim}>
            <div class="center">
                Pedido realizado com sucesso!
            </div>
        </template>

        <template if:false={fim}>
            <template if:true={exibirCarrinho}>
                <template if:true={items}>
                    <template for:each={items} for:item="item">
                       <div class="slds-col slds-size_12-of-12 slds-p-horizontal_x-small slds-p-top_xx-small" key={item.id}>
                            <!-- {item.name} -->
                            <my-cart-item
                                data-name={item.id}
                                name={item.name}
                                quantity={item.quantity}
                                unit-price={item.unitPrice}
                                image={item.image}
                                onremove={handleRemove}>
                            </my-cart-item>
                       </div>
                    </template>
                    <div class="slds-col slds-size_12-of-12 slds-p-horizontal_x-small slds-p-top_xx-small">
                        <span class="slds-align_absolute-center" style="font-size: 16px;">
                                <strong>
                                    Total:&nbsp;R$&nbsp;
                                </strong> 
                                {total}
                        </span>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-p-horizontal_x-small slds-p-top_xx-small slds-align_absolute-center">
                        <lightning-button 
                            label="Limpar carrinho" 
                            title="Looks like a link" 
                            onclick={handleClick} 
                            icon-name="utility:delete" 
                            class="slds-m-left_x-small c-button">
                        </lightning-button>
                        <lightning-button 
                            label="Continuar" 
                            title="Looks like a link" 
                            onclick={handleConfirmOrder} 
                            icon-name="utility:forward" 
                            class="slds-m-left_x-small c-button">
                        </lightning-button>
                    </div>
                </template>
                <template if:false={items}>
                    Carrinho vazio
                </template>
            </template>
    
            <template if:false={exibirCarrinho}>
                <article class="slds-card" style="width: 100%;">
                    <div class="slds-card__header slds-grid">
                        <header class="slds-media slds-media_center slds-has-flexi-truncate">
                            <div class="slds-media__body">
                                
                            </div>
                            
                            <lightning-input type="datetime" name="input1" label="Data/Hora de Entrega" ></lightning-input>
    
                        </header>
                    </div>
                </article>
    
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_12-of-12 slds-p-horizontal_x-small slds-p-top_xx-small">
                        <article class="slds-card">
                            <div class="slds-card__header slds-grid">
                                <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                    <div class="slds-media__figure">
                                        <img src="../../../resources/casa.png" style="width:64px; height:64px;">
                                    </div>
                                    <div class="slds-media__body">
                                        <h2 class="slds-card__header-title">
                                            <span>Casa (Principal)</span>
                                        </h2>
                                        Av. Afonso Pena, nº 128 - Apto 24 - Boqueirão (Santos)
                                    </div>
                                    <div class="slds-no-flex">
                                        <lightning-button-icon 
                                            icon-name="utility:delete" 
                                            alternative-text="Remover" 
                                            title="Remover"
                                            onclick={handleRemove}>
                                        </lightning-button-icon>
                                    </div>
                                </header>
                            </div>
                        </article>
                    </div>
                </div>
    
                <lightning-button 
                            label="Finalizar pedido" 
                            title="Looks like a link" 
                            onclick={handleSave} 
                            icon-name="utility:forward" 
                            class="slds-m-left_x-small c-button">
                </lightning-button>
            </template>
        </template>
 
    </div>
</template>